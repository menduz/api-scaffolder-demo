"use strict";
const base_1 = require('./base');
const controllers = [];
// /me
controllers.push(require('./impl/me'));
// /users/{userId}
controllers.push(require('./impl/userById'));
/** generates a new instance of each controller of the api. */
function initializeControllers() {
    let instances = [];
    controllers.forEach(x => {
        instances.push(new x.Controller());
    });
    return instances;
}
exports.initializeControllers = initializeControllers;
/** registers the controllers on a router */
function registerRouter(controllers, router) {
    if (!controllers)
        controllers = initializeControllers();
    if (!router)
        router = getMiddleware();
    controllers.forEach(x => x.registerRouter(router));
    return controllers;
}
exports.registerRouter = registerRouter;
/** gets the router */
function getMiddleware() {
    return base_1.DemoApiV1.getMiddleware();
}
exports.getMiddleware = getMiddleware;
/** gets the context reference of the given request */
function getContext(expressRequest) {
    return base_1.DemoApiV1.getContext(expressRequest);
}
exports.getContext = getContext;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsdUJBQTBCLFFBQVEsQ0FBQyxDQUFBO0FBRW5DLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUd2QixNQUFNO0FBQ04sV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUV2QyxrQkFBa0I7QUFDbEIsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO0FBSTdDLDhEQUE4RDtBQUM5RDtJQUNFLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUVuQixXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbkIsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBUmUsNkJBQXFCLHdCQVFwQyxDQUFBO0FBRUQsNENBQTRDO0FBQzVDLHdCQUErQixXQUF3QyxFQUFFLE1BQU87SUFDNUUsRUFBRSxDQUFBLENBQUMsQ0FBQyxXQUFXLENBQUM7UUFBQyxXQUFXLEdBQUcscUJBQXFCLEVBQUUsQ0FBQztJQUN2RCxFQUFFLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUFDLE1BQU0sR0FBRyxhQUFhLEVBQUUsQ0FBQztJQUNyQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDbkQsTUFBTSxDQUFDLFdBQVcsQ0FBQztBQUN2QixDQUFDO0FBTGUsc0JBQWMsaUJBSzdCLENBQUE7QUFFRCxzQkFBc0I7QUFDdEI7SUFDSSxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztBQUNyQyxDQUFDO0FBRmUscUJBQWEsZ0JBRTVCLENBQUE7QUFFRCxzREFBc0Q7QUFDdEQsb0JBQTJCLGNBQStCO0lBQ3RELE1BQU0sQ0FBQyxnQkFBUyxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNoRCxDQUFDO0FBRmUsa0JBQVUsYUFFekIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRISVMgSVMgQU4gQVVUT0dFTkVSQVRFRCBGSUxFLCBBTlkgQ0hBTkdFUyBXSUxMIEJFIExPU1QuIERPIE5PIEVESVQgVEhJUyBGSUxFXG5pbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgeyBEZW1vQXBpVjEgfSBmcm9tICcuL2Jhc2UnO1xuXG5jb25zdCBjb250cm9sbGVycyA9IFtdO1xuXG5cbi8vIC9tZVxuY29udHJvbGxlcnMucHVzaChyZXF1aXJlKCcuL2ltcGwvbWUnKSk7XG5cbi8vIC91c2Vycy97dXNlcklkfVxuY29udHJvbGxlcnMucHVzaChyZXF1aXJlKCcuL2ltcGwvdXNlckJ5SWQnKSk7XG5cblxuXG4vKiogZ2VuZXJhdGVzIGEgbmV3IGluc3RhbmNlIG9mIGVhY2ggY29udHJvbGxlciBvZiB0aGUgYXBpLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVDb250cm9sbGVycygpOiBEZW1vQXBpVjEuQmFzZUNvbnRyb2xsZXJbXSB7XG4gIGxldCBpbnN0YW5jZXMgPSBbXTtcbiAgXG4gIGNvbnRyb2xsZXJzLmZvckVhY2goeCA9PiB7XG4gICAgaW5zdGFuY2VzLnB1c2gobmV3IHguQ29udHJvbGxlcigpKTtcbiAgfSk7XG4gIFxuICByZXR1cm4gaW5zdGFuY2VzO1xufVxuXG4vKiogcmVnaXN0ZXJzIHRoZSBjb250cm9sbGVycyBvbiBhIHJvdXRlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUm91dGVyKGNvbnRyb2xsZXJzPzogRGVtb0FwaVYxLkJhc2VDb250cm9sbGVyW10sIHJvdXRlcj8pe1xuICAgIGlmKCFjb250cm9sbGVycykgY29udHJvbGxlcnMgPSBpbml0aWFsaXplQ29udHJvbGxlcnMoKTtcbiAgICBpZighcm91dGVyKSByb3V0ZXIgPSBnZXRNaWRkbGV3YXJlKCk7XG4gICAgY29udHJvbGxlcnMuZm9yRWFjaCh4ID0+IHgucmVnaXN0ZXJSb3V0ZXIocm91dGVyKSk7XG4gICAgcmV0dXJuIGNvbnRyb2xsZXJzO1xufVxuXG4vKiogZ2V0cyB0aGUgcm91dGVyICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkZGxld2FyZSgpe1xuICAgIHJldHVybiBEZW1vQXBpVjEuZ2V0TWlkZGxld2FyZSgpO1xufVxuXG4vKiogZ2V0cyB0aGUgY29udGV4dCByZWZlcmVuY2Ugb2YgdGhlIGdpdmVuIHJlcXVlc3QgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KGV4cHJlc3NSZXF1ZXN0OiBleHByZXNzLlJlcXVlc3QpOiBJQ29udGV4dCB7XG4gICAgcmV0dXJuIERlbW9BcGlWMS5nZXRDb250ZXh0KGV4cHJlc3NSZXF1ZXN0KTtcbn0iXX0=