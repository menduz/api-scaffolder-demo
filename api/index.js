"use strict";
const base_1 = require('./base');
const controllers = [];
// /me
controllers.push(require('./impl/me'));
// /users/{userId}
controllers.push(require('./impl/userById'));
// /status
controllers.push(require('./impl/status'));
/** generates a new instance of each controller of the api. */
function initializeControllers() {
    let instances = [];
    controllers.forEach(x => {
        instances.push(new x.Controller());
    });
    return instances;
}
exports.initializeControllers = initializeControllers;
/** registers the controllers on a router */
function registerRouter(controllers, router) {
    if (!controllers)
        controllers = initializeControllers();
    if (!router)
        router = getMiddleware();
    controllers.forEach(x => x.registerRouter(router));
    return controllers;
}
exports.registerRouter = registerRouter;
/** gets the router */
function getMiddleware() {
    return base_1.DemoApiV1.getMiddleware();
}
exports.getMiddleware = getMiddleware;
/** gets the context reference of the given request */
function getContext(expressRequest) {
    return base_1.DemoApiV1.getContext(expressRequest);
}
exports.getContext = getContext;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsdUJBQTBCLFFBQVEsQ0FBQyxDQUFBO0FBRW5DLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUd2QixNQUFNO0FBQ04sV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUV2QyxrQkFBa0I7QUFDbEIsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO0FBRTdDLFVBQVU7QUFDVixXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0FBSTNDLDhEQUE4RDtBQUM5RDtJQUNFLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUVuQixXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDbkIsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBUmUsNkJBQXFCLHdCQVFwQyxDQUFBO0FBRUQsNENBQTRDO0FBQzVDLHdCQUErQixXQUF3QyxFQUFFLE1BQU87SUFDNUUsRUFBRSxDQUFBLENBQUMsQ0FBQyxXQUFXLENBQUM7UUFBQyxXQUFXLEdBQUcscUJBQXFCLEVBQUUsQ0FBQztJQUN2RCxFQUFFLENBQUEsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUFDLE1BQU0sR0FBRyxhQUFhLEVBQUUsQ0FBQztJQUNyQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDbkQsTUFBTSxDQUFDLFdBQVcsQ0FBQztBQUN2QixDQUFDO0FBTGUsc0JBQWMsaUJBSzdCLENBQUE7QUFFRCxzQkFBc0I7QUFDdEI7SUFDSSxNQUFNLENBQUMsZ0JBQVMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztBQUNyQyxDQUFDO0FBRmUscUJBQWEsZ0JBRTVCLENBQUE7QUFFRCxzREFBc0Q7QUFDdEQsb0JBQTJCLGNBQStCO0lBQ3RELE1BQU0sQ0FBQyxnQkFBUyxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUNoRCxDQUFDO0FBRmUsa0JBQVUsYUFFekIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRISVMgSVMgQU4gQVVUT0dFTkVSQVRFRCBGSUxFLCBBTlkgQ0hBTkdFUyBXSUxMIEJFIExPU1QuIERPIE5PIEVESVQgVEhJUyBGSUxFXG5pbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgeyBEZW1vQXBpVjEgfSBmcm9tICcuL2Jhc2UnO1xuXG5jb25zdCBjb250cm9sbGVycyA9IFtdO1xuXG5cbi8vIC9tZVxuY29udHJvbGxlcnMucHVzaChyZXF1aXJlKCcuL2ltcGwvbWUnKSk7XG5cbi8vIC91c2Vycy97dXNlcklkfVxuY29udHJvbGxlcnMucHVzaChyZXF1aXJlKCcuL2ltcGwvdXNlckJ5SWQnKSk7XG5cbi8vIC9zdGF0dXNcbmNvbnRyb2xsZXJzLnB1c2gocmVxdWlyZSgnLi9pbXBsL3N0YXR1cycpKTtcblxuXG5cbi8qKiBnZW5lcmF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgZWFjaCBjb250cm9sbGVyIG9mIHRoZSBhcGkuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbnRyb2xsZXJzKCk6IERlbW9BcGlWMS5CYXNlQ29udHJvbGxlcltdIHtcbiAgbGV0IGluc3RhbmNlcyA9IFtdO1xuICBcbiAgY29udHJvbGxlcnMuZm9yRWFjaCh4ID0+IHtcbiAgICBpbnN0YW5jZXMucHVzaChuZXcgeC5Db250cm9sbGVyKCkpO1xuICB9KTtcbiAgXG4gIHJldHVybiBpbnN0YW5jZXM7XG59XG5cbi8qKiByZWdpc3RlcnMgdGhlIGNvbnRyb2xsZXJzIG9uIGEgcm91dGVyICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJSb3V0ZXIoY29udHJvbGxlcnM/OiBEZW1vQXBpVjEuQmFzZUNvbnRyb2xsZXJbXSwgcm91dGVyPyl7XG4gICAgaWYoIWNvbnRyb2xsZXJzKSBjb250cm9sbGVycyA9IGluaXRpYWxpemVDb250cm9sbGVycygpO1xuICAgIGlmKCFyb3V0ZXIpIHJvdXRlciA9IGdldE1pZGRsZXdhcmUoKTtcbiAgICBjb250cm9sbGVycy5mb3JFYWNoKHggPT4geC5yZWdpc3RlclJvdXRlcihyb3V0ZXIpKTtcbiAgICByZXR1cm4gY29udHJvbGxlcnM7XG59XG5cbi8qKiBnZXRzIHRoZSByb3V0ZXIgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNaWRkbGV3YXJlKCl7XG4gICAgcmV0dXJuIERlbW9BcGlWMS5nZXRNaWRkbGV3YXJlKCk7XG59XG5cbi8qKiBnZXRzIHRoZSBjb250ZXh0IHJlZmVyZW5jZSBvZiB0aGUgZ2l2ZW4gcmVxdWVzdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHQoZXhwcmVzc1JlcXVlc3Q6IGV4cHJlc3MuUmVxdWVzdCk6IElDb250ZXh0IHtcbiAgICByZXR1cm4gRGVtb0FwaVYxLmdldENvbnRleHQoZXhwcmVzc1JlcXVlc3QpO1xufSJdfQ==